"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getPersistedSerialResponse = exports.persistSerialResponse = exports.getSecondsPassed = exports.randomUrl = exports.randomString = void 0;
exports.randomString = () => {
    return Math.random().toString(36).substring(7);
};
exports.randomUrl = () => {
    return `https://${exports.randomString()}.com`;
};
exports.getSecondsPassed = (timeInMilliseconds) => {
    return Date.now() - timeInMilliseconds;
};
const serialNumberBucket = 'serial-number';
exports.persistSerialResponse = async (vbase, resp, paymentId) => vbase.saveJSON(serialNumberBucket, `${paymentId}`, resp);
exports.getPersistedSerialResponse = async (vbase, paymentId) => vbase.getJSON(serialNumberBucket, paymentId, true);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvbm9kZS91dGlscy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFFYSxRQUFBLFlBQVksR0FBRyxHQUFHLEVBQUU7SUFDL0IsT0FBTyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtBQUNoRCxDQUFDLENBQUE7QUFFWSxRQUFBLFNBQVMsR0FBRyxHQUFHLEVBQUU7SUFDNUIsT0FBTyxXQUFXLG9CQUFZLEVBQUUsTUFBTSxDQUFBO0FBQ3hDLENBQUMsQ0FBQTtBQUVZLFFBQUEsZ0JBQWdCLEdBQUcsQ0FBQyxrQkFBMEIsRUFBRSxFQUFFO0lBQzdELE9BQU8sSUFBSSxDQUFDLEdBQUcsRUFBRSxHQUFHLGtCQUFrQixDQUFBO0FBQ3hDLENBQUMsQ0FBQTtBQVdELE1BQU0sa0JBQWtCLEdBQUcsZUFBZSxDQUFBO0FBRTdCLFFBQUEscUJBQXFCLEdBQUcsS0FBSyxFQUN4QyxLQUFZLEVBQ1osSUFBaUMsRUFDakMsU0FBNEIsRUFDNUIsRUFBRSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsa0JBQWtCLEVBQUUsR0FBRyxTQUFTLEVBQUUsRUFBRSxJQUFJLENBQUMsQ0FBQTtBQUVoRCxRQUFBLDBCQUEwQixHQUFHLEtBQUssRUFDN0MsS0FBWSxFQUNaLFNBQWlCLEVBQ2pCLEVBQUUsQ0FDRixLQUFLLENBQUMsT0FBTyxDQUNYLGtCQUFrQixFQUNsQixTQUFTLEVBQ1QsSUFBSSxDQUNMLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IFZCYXNlIH0gZnJvbSAnQHZ0ZXgvYXBpJ1xuXG5leHBvcnQgY29uc3QgcmFuZG9tU3RyaW5nID0gKCkgPT4ge1xuICByZXR1cm4gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDcpXG59XG5cbmV4cG9ydCBjb25zdCByYW5kb21VcmwgPSAoKSA9PiB7XG4gIHJldHVybiBgaHR0cHM6Ly8ke3JhbmRvbVN0cmluZygpfS5jb21gXG59XG5cbmV4cG9ydCBjb25zdCBnZXRTZWNvbmRzUGFzc2VkID0gKHRpbWVJbk1pbGxpc2Vjb25kczogbnVtYmVyKSA9PiB7XG4gIHJldHVybiBEYXRlLm5vdygpIC0gdGltZUluTWlsbGlzZWNvbmRzXG59XG5cbmV4cG9ydCB0eXBlIFNlcmlhbE51bWJlclJlc3BvbnNlID0ge1xuICBzZXJpYWw6IHN0cmluZ1xuICB0aW1lOiBudW1iZXJcbn1cblxuZXhwb3J0IHR5cGUgU2VyaWFsTnVtYmVyUmVxdWVzdCA9IHtcbiAgc2VyaWFsOiBzdHJpbmdcbn1cblxuY29uc3Qgc2VyaWFsTnVtYmVyQnVja2V0ID0gJ3NlcmlhbC1udW1iZXInXG5cbmV4cG9ydCBjb25zdCBwZXJzaXN0U2VyaWFsUmVzcG9uc2UgPSBhc3luYyAoXG4gIHZiYXNlOiBWQmFzZSxcbiAgcmVzcDogU2VyaWFsTnVtYmVyUmVzcG9uc2UgfCBudWxsLFxuICBwYXltZW50SWQ6IHN0cmluZyB8IHN0cmluZ1tdXG4pID0+IHZiYXNlLnNhdmVKU09OKHNlcmlhbE51bWJlckJ1Y2tldCwgYCR7cGF5bWVudElkfWAsIHJlc3ApXG5cbmV4cG9ydCBjb25zdCBnZXRQZXJzaXN0ZWRTZXJpYWxSZXNwb25zZSA9IGFzeW5jIChcbiAgdmJhc2U6IFZCYXNlLFxuICBwYXltZW50SWQ6IHN0cmluZ1xuKSA9PlxuICB2YmFzZS5nZXRKU09OPFNlcmlhbE51bWJlclJlc3BvbnNlIHwgdW5kZWZpbmVkPihcbiAgICBzZXJpYWxOdW1iZXJCdWNrZXQsXG4gICAgcGF5bWVudElkLFxuICAgIHRydWVcbiAgKVxuIl19